<article>
    <h2>{{taskTypeList}}</h2>
    <table class="taskTable">
        <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Username</th>
            <th>Employee ID</th>
            {{#if isEmp}}
            <th>Task Type</th>
            {{/if}}
            <th>Task Name</th>
            <th>Task Description</th>
            <th>Due Date</th>
            {{#if viewAll}}
            <th>Completed On</th>
            <th>Status</th>
            {{else}}
            <th>Action</th>
            {{/if}}
            {{#if isEmp}}
            {{else}}
            <th>Action</th>
            {{/if}}
        </tr>
        {{#if viewAll}}
        {{#each taskList}}
        <tr>
            <td>{{firstName}}</td>
            <td>{{lastName}}</td>
            <td>{{username}}</td>
            <td>{{employeeId}}</td>
            {{#if isEmp}}
            <td>{{taskType}}</td>
            {{/if}}
            <td>{{taskName}}</td>
            <td>{{taskDesc}}</td>
            <td>{{dueDate}}</td>
            <td>{{completedOn}}</td>
            <td>{{status}}</td>
            {{#if isEmp}}
            {{else}}
            {{#if completed}}
            <td>
                {{#if (eq type "document")}}
                <button onclick="location.href='/hrc/employee/uploadDocs/viewDocByTaskId/{{taskId}}/{{employeeId}}'">Download Document</button>
                {{else}}
                <p>-</p>
                {{/if}}
            </td>
            {{else}}
            <td>
                <button onclick="window.location.href='/hrc/hr/deleteTask/{{employeeId}}/{{taskId}}/{{taskType}}/false'"
                    id="deleteTask" name="deleteTask" class="deleteTask" data-id="{{taskId}}">Delete
                    Task</button><br>
                <button id="sendEmail" name="sendEmail" class="sendEmail" data-taskId="{{taskId}}"
                    data-taskType="{{taskType}}" data-employeeId="{{employeeId}}">Send reminder email</button>
            </td>
            {{/if}}
            {{/if}}
        </tr>
        {{/each}}
        {{else}}
        {{#each taskList}}
        <tr>
            <td>{{firstName}}</td>
            <td>{{lastName}}</td>
            <td>{{username}}</td>
            <td>{{employeeId}}</td>
            {{#if isEmp}}
            <td>{{taskType}}</td>
            {{/if}}
            <td>{{taskName}}</td>
            <td>{{taskDesc}}</td>
            <td>{{dueDate}}</td>
            <td>
                {{#if (eq type "document")}}
                <a href="/hrc/employee/uploadDocs/{{taskId}}" id="completeTaskDoc" name="completeTaskDoc" class="completeTaskDoc" data-id="{{taskId}}">Upload Document</a>
                </td>
                {{else}}
                {{#if (eq type "normal")}}
                <a href="/hrc/employee/completeTask/{{employeeId}}/{{taskId}}/{{taskType}}" id="completeTask"
                    name="completeTask" class="completeTask" data-id="{{taskId}}">Mark as complete</a></td>
                {{else}}
                <a href="/hrc/employee/fillForm/{{employeeId}}/{{taskId}}/{{type}}" id="completeTaskForm"
                    name="completeTaskForm" class="completeTaskForm" data-id="{{taskId}}">Fill Form</a></td>
                {{/if}}
                {{/if}}
        </tr>
        {{/each}}
        {{/if}}
    </table>
    <p>{{noDataPresentMsg}}</p>

    <script src="https://code.jquery.com/jquery-3.5.1.js"
        integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <script src="../../../public/js/createTask.js"></script>
</article>
{{#if isEmp}}
<button class="backButton" onclick="window.location.href='/hrc/employee'">Homepage</button>
{{else}}
<button class="backButton"  onclick="window.location.href='/hrc/hr'">Homepage</button>
{{/if}}

<a class="page-link" id="logoutLink" href="/hrc/logout">Logout</a>
